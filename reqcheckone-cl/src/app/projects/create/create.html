<!-- create.html -->
<!-- Flecha para regresar -->
<button
  class="btn btn-outline-secondary btn-sm mb-3 d-flex align-items-center gap-1"
  (click)="goBack()"
>
  <i class="bi bi-arrow-left"></i> Regresar
</button>
<div class="container mt-4">
  <div class="card shadow-lg border-0 rounded-4">
    <div class="card-body p-4">
      <h3 class="fw-bold text-gradient mb-4 text-center">âœ¨ Crear Proyecto</h3>

      <form [formGroup]="projectForm" (ngSubmit)="createProject()">
        <!-- Nombre -->
        <div class="mb-3">
          <label class="form-label fw-semibold">Nombre</label>
          <input
            type="text"
            class="form-control stylish-input"
            formControlName="name"
            placeholder="Ej: Plataforma Ecommerce"
          />
          <div
            *ngIf="projectForm.get('name')?.invalid && projectForm.get('name')?.touched"
            class="text-danger mt-1"
          >
            El nombre es obligatorio.
          </div>
        </div>

        <!-- DescripciÃ³n -->
        <div class="mb-3">
          <label class="form-label fw-semibold">DescripciÃ³n</label>
          <textarea
            class="form-control stylish-input"
            formControlName="description"
            rows="3"
            placeholder="Describe el objetivo del proyecto..."
          ></textarea>
        </div>

        <!-- Fecha lÃ­mite -->
        <div class="mb-3">
          <label class="form-label fw-semibold">Fecha lÃ­mite</label>
          <input type="date" class="form-control stylish-input" formControlName="deadline" />
        </div>

        <!-- Estado -->
        <div class="mb-3">
          <label class="form-label fw-semibold">Estado</label>
          <select class="form-select stylish-input" formControlName="status">
            <option value="active">Activo</option>
            <option value="completed">Completado</option>
            <option value="archived">Archivado</option>
          </select>
        </div>

        <!-- Colaboradores -->
        <div class="mb-3">
          <label class="form-label fw-semibold">Colaboradores</label>
          <div class="d-flex flex-wrap gap-2 mb-2">
            <span *ngFor="let col of selectedCollaborators" class="badge rounded-pill badge-collab">
              {{ col.username }}
              <i class="bi bi-x ms-1" (click)="removeCollaborator(col)"></i>
            </span>
          </div>
          <button
            type="button"
            class="btn btn-outline-primary btn-sm rounded-pill"
            (click)="openCollaboratorsModal()"
          >
            + AÃ±adir colaboradores
          </button>
        </div>

        <!-- Botones -->
        <div class="d-flex justify-content-end gap-2 mt-4">
          <button class="btn btn-secondary rounded-pill px-4" type="button" (click)="goBack()">
            Cancelar
          </button>
          <button class="btn btn-gradient rounded-pill px-4" type="submit">Crear</button>
        </div>

        <!-- Error -->
        <div *ngIf="error" class="text-danger mt-3 fw-semibold text-center">{{ error }}</div>
      </form>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="collaboratorsModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content p-3 rounded-4 shadow-lg border-0">
      <div class="modal-header border-0">
        <h5 class="modal-title fw-bold text-gradient">ðŸ‘¥ Seleccionar colaboradores</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <input
          type="text"
          class="form-control stylish-input mb-3"
          placeholder="Buscar usuario..."
          [(ngModel)]="searchTerm"
        />

        <div class="user-list">
          <div
            *ngFor="let u of filteredUsers()"
            class="user-item d-flex justify-content-between align-items-center p-2 rounded"
          >
            <div>
              <strong>{{ u.username }}</strong>
              <small class="text-muted d-block">{{ u.email }}</small>
            </div>
            <input type="checkbox" [checked]="isSelected(u)" (change)="toggleCollaborator(u)" />
          </div>
        </div>
      </div>
      <div class="modal-footer border-0">
        <button
          type="button"
          class="btn btn-outline-secondary rounded-pill px-4"
          data-bs-dismiss="modal"
        >
          Cancelar
        </button>
        <button type="button" class="btn btn-gradient rounded-pill px-4" data-bs-dismiss="modal">
          Confirmar
        </button>
      </div>
    </div>
  </div>
</div>
```
